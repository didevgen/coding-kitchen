{"remainingRequest":"/Users/ykova/mine/coding-kitchen/node_modules/ts-loader/index.js??ref--16-1!/Users/ykova/mine/coding-kitchen/packages/web/src/components/SignInSide.tsx","dependencies":[{"path":"/Users/ykova/mine/coding-kitchen/packages/web/src/components/SignInSide.tsx","mtime":1637765745471},{"path":"/Users/ykova/mine/coding-kitchen/node_modules/cache-loader/dist/cjs.js","mtime":1637425226491},{"path":"/Users/ykova/mine/coding-kitchen/node_modules/ts-loader/index.js","mtime":1637425227303}],"contextDependencies":[],"result":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useMutation } from '@apollo/client';\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\nimport Avatar from '@mui/material/Avatar';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport Grid from '@mui/material/Grid';\nimport Paper from '@mui/material/Paper';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport TextField from '@mui/material/TextField';\nimport Typography from '@mui/material/Typography';\nimport * as React from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { LOGIN } from '../graphql/mutations/auth';\nimport Cookies from 'js-cookie';\nvar theme = createTheme();\nexport default function SignInSide() {\n    var _this = this;\n    var _a;\n    var _b = useMutation(LOGIN), login = _b[0], result = _b[1].data;\n    var handleSubmit = function (event) { return __awaiter(_this, void 0, void 0, function () {\n        var data;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    event.preventDefault();\n                    data = new FormData(event.currentTarget);\n                    return [4, login({\n                            variables: { email: data.get('email'), password: data.get('password') }\n                        })];\n                case 1:\n                    _a.sent();\n                    return [2];\n            }\n        });\n    }); };\n    if ((_a = result === null || result === void 0 ? void 0 : result.login) === null || _a === void 0 ? void 0 : _a.token) {\n        Cookies.set('token', result.login.token, { expires: 1 });\n        return _jsx(Navigate, { to: \"/\" }, void 0);\n    }\n    return (_jsx(ThemeProvider, __assign({ theme: theme }, { children: _jsxs(Grid, __assign({ container: true, component: \"main\", sx: { height: '100vh' } }, { children: [_jsx(CssBaseline, {}, void 0), _jsx(Grid, { item: true, xs: false, sm: 4, md: 7, sx: {\n                        backgroundImage: 'url(https://source.unsplash.com/random)',\n                        backgroundRepeat: 'no-repeat',\n                        backgroundColor: function (t) { return (t.palette.mode === 'light' ? t.palette.grey[50] : t.palette.grey[900]); },\n                        backgroundSize: 'cover',\n                        backgroundPosition: 'center'\n                    } }, void 0), _jsx(Grid, __assign({ item: true, xs: 12, sm: 8, md: 5, component: Paper, elevation: 6, square: true }, { children: _jsxs(Box, __assign({ sx: {\n                            my: 8,\n                            mx: 4,\n                            display: 'flex',\n                            flexDirection: 'column',\n                            alignItems: 'center'\n                        } }, { children: [_jsx(Avatar, __assign({ sx: { m: 1, bgcolor: 'secondary.main' } }, { children: _jsx(LockOutlinedIcon, {}, void 0) }), void 0), _jsx(Typography, __assign({ component: \"h1\", variant: \"h5\" }, { children: \"Sign in\" }), void 0), _jsxs(Box, __assign({ component: \"form\", noValidate: true, onSubmit: handleSubmit, sx: { mt: 1 } }, { children: [_jsx(TextField, { margin: \"normal\", required: true, fullWidth: true, id: \"email\", label: \"Email Address\", name: \"email\", autoComplete: \"email\", autoFocus: true }, void 0), _jsx(TextField, { margin: \"normal\", required: true, fullWidth: true, name: \"password\", label: \"Password\", type: \"password\", id: \"password\", autoComplete: \"current-password\" }, void 0), _jsx(Button, __assign({ type: \"submit\", fullWidth: true, variant: \"contained\", sx: { mt: 3, mb: 2 } }, { children: \"Sign In\" }), void 0)] }), void 0)] }), void 0) }), void 0)] }), void 0) }), void 0));\n}\n",{"version":3,"file":"/Users/ykova/mine/coding-kitchen/packages/web/src/components/SignInSide.tsx","sourceRoot":"","sources":["/Users/ykova/mine/coding-kitchen/packages/web/src/components/SignInSide.tsx"],"names":[],"mappings":"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","sourcesContent":["import { useMutation } from '@apollo/client';\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\nimport Avatar from '@mui/material/Avatar';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport Grid from '@mui/material/Grid';\nimport Paper from '@mui/material/Paper';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport TextField from '@mui/material/TextField';\nimport Typography from '@mui/material/Typography';\nimport * as React from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { LOGIN } from '../graphql/mutations/auth';\nimport Cookies from 'js-cookie';\n\nconst theme = createTheme();\n\nexport default function SignInSide() {\n    const [login, { data: result }] = useMutation(LOGIN);\n\n    const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        const data = new FormData(event.currentTarget);\n        // eslint-disable-next-line no-console\n        await login({\n            variables: { email: data.get('email'), password: data.get('password') }\n        });\n    };\n\n    // tslint:disable-next-line:prettier\n    if (result?.login?.token) {\n        Cookies.set('token', result.login.token, { expires: 1 });\n        return <Navigate to=\"/\"/>;\n    }\n\n    return (\n        <ThemeProvider theme={theme}>\n            <Grid container component=\"main\" sx={{ height: '100vh' }}>\n                <CssBaseline/>\n                <Grid\n                    item\n                    xs={false}\n                    sm={4}\n                    md={7}\n                    sx={{\n                        backgroundImage: 'url(https://source.unsplash.com/random)',\n                        backgroundRepeat: 'no-repeat',\n                        backgroundColor: t => (t.palette.mode === 'light' ? t.palette.grey[50] : t.palette.grey[900]),\n                        backgroundSize: 'cover',\n                        backgroundPosition: 'center'\n                    }}\n                />\n                <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n                    <Box\n                        sx={{\n                            my: 8,\n                            mx: 4,\n                            display: 'flex',\n                            flexDirection: 'column',\n                            alignItems: 'center'\n                        }}\n                    >\n                        <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\n                            <LockOutlinedIcon/>\n                        </Avatar>\n                        <Typography component=\"h1\" variant=\"h5\">\n                            Sign in\n                        </Typography>\n                        <Box component=\"form\" noValidate onSubmit={handleSubmit} sx={{ mt: 1 }}>\n                            <TextField\n                                margin=\"normal\"\n                                required\n                                fullWidth\n                                id=\"email\"\n                                label=\"Email Address\"\n                                name=\"email\"\n                                autoComplete=\"email\"\n                                autoFocus\n                            />\n                            <TextField\n                                margin=\"normal\"\n                                required\n                                fullWidth\n                                name=\"password\"\n                                label=\"Password\"\n                                type=\"password\"\n                                id=\"password\"\n                                autoComplete=\"current-password\"\n                            />\n                            <Button type=\"submit\" fullWidth variant=\"contained\" sx={{ mt: 3, mb: 2 }}>\n                                Sign In\n                            </Button>\n                        </Box>\n                    </Box>\n                </Grid>\n            </Grid>\n        </ThemeProvider>\n    );\n}\n"]}]}